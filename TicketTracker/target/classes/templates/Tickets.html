<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>Ticket Tracker Application</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            font-family: "Poppins", sans-serif;
        }

        nav{
            display: flex;
            justify-content: space-around;
            height: 10vh;
            background-color: rgb(208, 255, 0);
            border-bottom: 2px solid rgb(202, 202, 202);
        }

        nav ul{
            display: flex;
            list-style: none;
            gap: 3rem;
            justify-content: space-evenly;
            align-items: center;
            height: 100%;
        }

        nav ul a{
            text-decoration: none;
            color: black;
            border: none;
            border-radius: 5px;
        }

        .list1 li{
            font-size: 1.2rem;
            font-weight: 500;
        }

        .list2 li{
            border: 2px solid black;
            border-radius: 5px;
            padding: 10px;
        }

        .list2 a{
            transition: all 0.3s ease-in-out;
        }

        .list2 a:hover{
            background-color: rgb(47, 47, 47);
            color: white;
        }

        .heading{
            text-align: center;
            font-size: 1.8rem;
        }

        .heading h1{
            font-weight: 600;
        }

        .form-group{
            display: flex;
            justify-content: center;
        }

        .form-control{
            font-size: 1.2rem;
            display: inline;
            width: 30%;
        }

        .btn1{
            text-decoration: none;
            border: 2px solid black;
            border-radius: 5px;
            padding: 10px;
            background-color: black;
            color: white;
            transition: all 0.3s ease-in-out;
        }

        .btn1:hover{
            background-color: rgb(41, 134, 255);
            color: rgb(255, 255, 255);
            border-color: rgb(25, 98, 255);
        }

        .btn2{
            cursor: pointer;
            text-decoration: none;
            border: 2px solid rgb(48, 255, 25);
            border-radius: 5px;
            padding: 10px;
            background-color: rgb(48, 255, 25);
            color: rgb(0, 0, 0);
            transition: all 0.3s ease-in-out;
        }

        .btn2:hover{
            background-color: rgb(255, 255, 255);
            color: rgb(21, 206, 0);
            border-color: rgb(20, 196, 0);
        }

        .btn3{
            cursor: pointer;
            text-decoration: none;
            border: 2px solid rgb(255, 38, 38);
            border-radius: 5px;
            padding: 10px;
            background-color: rgb(255, 38, 38);
            color: white;
            transition: all 0.3s ease-in-out;
        }

        .btn3:hover{
            background-color: rgb(255, 255, 255);
            color: rgb(255, 38, 38);
            border-color: rgb(255, 38, 38);
        }

        .btn4{
            cursor: pointer;
            text-decoration: none;
            border: 2px solid rgb(134, 184, 255);
            border-radius: 5px;
            padding: 10px;
            background-color: rgb(134, 184, 255);
            color: rgb(0, 0, 0);
            transition: all 0.3s ease-in-out;
        }

        .btn4:hover{
            background-color: rgb(255, 255, 255);
            color: rgb(25, 98, 255);
            border-color: rgb(25, 98, 255);
        }

        .table-box{
            display: flex;
            justify-content: center;
        }

        .table1{
            border: 2px solid black;
            border-collapse:collapse;
            border-spacing: 0;
            width: 80%;
        }

        .table1 th, td {
            text-align: left;
            padding: 16px;
        }

        .table1 th{
            font-size: 1.1rem;
            font-weight: 600;
        }

        .table-th{
            background-color: rgb(57, 57, 57);
            color: white;
        }

        tr:nth-child(even) {
            background-color: #f2f2f2;
        }


    </style>
</head>
<body>
    <nav>
        <ul class="list1">
            <a href="#"><li>Ticket Tracker Application</li></a>
        </ul>
        <ul class="list2">
            <a th:href="@{/tickets}"><li>Tickets</li></a>
            <a th:href="@{/tickets/newTicket}"><li>New Ticket</li></a>
        </ul>
    </nav>
    <div class="heading">
        <h1>List of Tickets</h1>
    </div>

    <div class="form-group">
        <input th:id="searchString" th:value="${searchString}" type="text" class="form-control"> &nbsp; &nbsp;
        <a href='' onclick="this.href='/tta/tickets/search/'+document.getElementById('searchString').value"
            class="btn1" role="submit">Search</a>
    </div>
    <br>
    <div class="table-box">
        <table class="table1">
            <thead class="table-th">
                <tr>
                    <th>#</th>
                    <th>Ticket Title</th>
                    <th>Ticket Short Description</th>
                    <th>Ticket Created on</th>
                    <th>Actions</th>
                </tr>
            </thead>
    
            <tbody class="table-tb">
                <tr th:each="ticket: ${tickets}">
                    <td th:text="${ticket.id}"></td>
                    <td th:text="${ticket.title}"></td>
                    <td th:text="${ticket.description}"></td>
                    <td th:text="${ticket.createdate}"></td>
                    <td>
                        <a th:href="@{/tickets/{id}/edit(id=${ticket.id})}" class="btn2">
                            Edit
                        </a>
                        &nbsp;
                        <a th:href="@{/tickets/{id}/delete(id=${ticket.id})}" class="btn3">
                            Delete
                        </a>
                        &nbsp;
                        <a th:href="@{/tickets/{id}/view(id=${ticket.id})}" class="btn4">
                            View
                        </a>
                    </td>
                </tr>
            </tbody>
    
        </table>
    </div>
</body>
</html>